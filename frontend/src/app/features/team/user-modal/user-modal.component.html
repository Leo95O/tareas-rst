<p-dialog [header]="modalTitle" [(visible)]="visible" [modal]="true" [draggable]="false" [resizable]="false"
  [style]="{ width: '500px' }" [appendTo]="'body'" (onHide)="onHide()">
  
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    
    <div class="mb-4" *ngIf="!isEditMode">
      <label for="usuario_nombre" class="mb-2 block text-sm font-medium text-gray-700">
        Nombre Completo <span class="text-red-500">*</span>
      </label>
      <input id="usuario_nombre" type="text" pInputText formControlName="usuario_nombre"
        placeholder="Ej: Juan Pérez García" class="w-full" />
      </div>

    <div class="mb-4">
      <label for="usuario_correo" class="mb-2 block text-sm font-medium text-gray-700">
        Email <span class="text-red-500">*</span>
      </label>
      <input id="usuario_correo" type="email" pInputText formControlName="usuario_correo"
        placeholder="ejemplo@correo.com" class="w-full" />
    </div>

    <div class="mb-4">
      <label for="password" class="mb-2 block text-sm font-medium text-gray-700">
        Contraseña <span class="text-red-500" *ngIf="!isEditMode">*</span>
      </label>
      <p-password id="password" formControlName="password" [toggleMask]="true" [feedback]="false" 
        styleClass="w-full" inputStyleClass="w-full"></p-password>
    </div>

    <div class="mb-4">
      <label for="rol_id" class="mb-2 block text-sm font-medium text-gray-700">
        Rol <span class="text-red-500">*</span>
      </label>
      <p-select 
        id="rol_id" 
        formControlName="rol_id" 
        [options]="roles" 
        optionLabel="nombre" 
        optionValue="id"
        placeholder="Selecciona un rol" 
        styleClass="w-full" 
        [appendTo]="'body'">
      </p-select>
    </div>

    <div class="mb-4 flex items-center justify-between">
      <label for="usuario_estado" class="text-sm font-medium text-gray-700">Usuario Activo</label>
      <p-toggleswitch id="usuario_estado" formControlName="usuario_estado"></p-toggleswitch>
    </div>

    <div class="flex justify-end gap-2 mt-6">
      <button type="button" pButton label="Cancelar" icon="pi pi-times" class="p-button-text"
        (click)="onCancel()"></button>
      <button type="submit" pButton [label]="saveButtonLabel" icon="pi pi-check"></button>
    </div>
  </form>
</p-dialog>